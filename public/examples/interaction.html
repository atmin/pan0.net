<canvas
  style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
></canvas>

<script type="module">
  import render from 'https://pan0.net/render.js';
  import scene from 'https://pan0.net/scene.js';
  import box from 'https://pan0.net/box.js';
  import { RED, GREEN, BLUE, PINK } from 'https://pan0.net/colors.js';

  render(
    scene(
      box().id('rotationTarget').color(PINK),
      box().id('triggerObject').color(GREEN).position([2, 0, 0]),
    )
      .data({
        colorIndex: 1,
        colors: [RED, GREEN, BLUE],
      })

      .on('frame', () => {
        //
      })

      .on('click', 'triggerObject', (scene) => {
        // Update scene state
        scene.data.colorIndex = (scene.data.colorIndex + 1) % 3;

        // Cycle red-green-blue colors on 'triggerObject'
        scene.object.color(scene.data.colors[scene.data.colorIndex]);

        // Rotate another scene object
        scene.objects.get('rotationTarget').rotateZ(0.05);
      }),
  );
</script>
