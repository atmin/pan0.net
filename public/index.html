<script src="/latest/main.js"></script>
<script>
  const greenBox = (albedoTexture) =>
    box().size(2.4).width(3.2).height(1.3).position([0, 2, 4]).material({
      albedoColor: color.GREEN,
      albedoTexture: albedoTexture,
      roughness: 1,
    });

  const ellipsoid = () =>
    sphere().diameterX(3).diameterZ(2).material({
      albedoTexture: 'https://loremflickr.com/320/240/frog?lock=4',
      metallic: 0,
    });

  scene(
    gltf()
      .source('https://playground.babylonjs.com/scenes/BoomBox/BoomBox.gltf')
      .position([-5, 1, 0])
      .scaling([100, 100, 100])
      .rotation([0, Math.PI / 2, 0])
      .environmentSnapshot()
      .checkCollisions(false),

    greenBox('https://loremflickr.com/320/240/frog?lock=3')
      .position([0, 0.5, 0])
      .subtract(ellipsoid().position([0, 1, 0])),

    ellipsoid().position([-4, 3, 0]),

    plane()
      .position([5, 1.5, 0])
      .width(3)
      .height(2)
      .doublesided()
      .rotation([Math.PI / 16, 0, 0])
      .material({
        // albedoColor: color.BLUE,
        metallic: 0.5,
        roughness: 1,
        albedoTexture: canvas(
          image().source('https://loremflickr.com/320/240/cat?lock=4')
        ),
        bumpTexture: canvas(
          image().source(
            'https://upload.wikimedia.org/wikipedia/commons/1/13/Calgary_street_map.png'
          )
        )
          .width(768)
          .height(512),
      })
  )
    .data({ test: 42 })
    // .lights(null)
    .render();
</script>
